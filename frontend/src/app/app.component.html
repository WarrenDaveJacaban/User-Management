<div class="app-container" [ngClass]="{ 'bg-light': account }">
    <!-- main nav -->
    <nav class="navbar navbar-expand navbar-dark bg-dark" *ngIf="account">
      <div class="navbar-nav">
        <a class="nav-item nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
        <a class="nav-item nav-link" routerLink="/profile" routerLinkActive="active">Profile</a>
        <a class="nav-item nav-link" routerLink="/requests/my-requests" routerLinkActive="active">My Requests</a>
        <a class="nav-item nav-link" routerLink="/admin" routerLinkActive="active" *ngIf="account?.role === Role.Admin">Admin</a>
        <button class="btn btn-link nav-item nav-link" (click)="logout()">Logout</button>
      </div>
      <!-- Environment indicator visible only during development -->
      <div class="ms-auto" *ngIf="!isProduction">
        <span class="badge bg-info text-white">{{detectedEnv}} API</span>
      </div>
    </nav>
  
    <!-- Admin sub-nav -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="account?.role === Role.Admin && isAdminRoute">
      <div class="container">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/accounts" routerLinkActive="active">Accounts</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/departments" routerLinkActive="active">Departments</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/employees" routerLinkActive="active">Employees</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/admin/analytics" routerLinkActive="active">Analytics</a>
          </li>
        </ul>
      </div>
    </nav>
  
    <!-- global alert -->
    <alert></alert>
  
    <!-- main router outlet -->
    <div class="container mt-4">
      <router-outlet></router-outlet>
    </div>
</div>

<!-- Footer -->
<footer *ngIf="account">
    <div class="footer-content">
        <p>User Management System &copy; 2023</p>
    </div>
</footer>